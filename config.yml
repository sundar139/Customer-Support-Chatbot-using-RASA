# Configuration for Rasa NLU and Core
recipe: default.v1
language: en

# NLU Pipeline
pipeline:
  # Tokenization
- name: WhitespaceTokenizer

  # Regex features for patterns (order IDs, emails, etc.)
- name: RegexFeaturizer

  # Regex-based entity extraction for IDs and simple lists
- name: RegexEntityExtractor
  use_lookup_tables: true
  use_regexes: true
  use_word_boundaries: true

  # Lexical features
- name: LexicalSyntacticFeaturizer

  # Count vectors for bag-of-words features
- name: CountVectorsFeaturizer
  analyzer: char_wb
  min_ngram: 1
  max_ngram: 4



  # Intent classifier and entity extractor
- name: DIETClassifier
  epochs: 200
  constrain_similarities: true
  model_confidence: softmax

  # Entity synonym mapping
- name: EntitySynonymMapper

  # Response selector for FAQs
- name: ResponseSelector
  epochs: 200
  constrain_similarities: true
  retrieval_intent: faq

  # Fallback classifier for low-confidence intents
- name: FallbackClassifier
  threshold: 0.3
  ambiguity_threshold: 0.1

# Dialogue Policies
policies:
  # Rule-based policy for deterministic behavior
- name: RulePolicy
  core_fallback_threshold: 0.15
  core_fallback_action_name: action_default_fallback
  enable_fallback_prediction: true

  # Memorization policy
- name: MemoizationPolicy
  max_history: 5

  # Transformer-based dialogue policy
- name: TEDPolicy
  max_history: 5
  epochs: 200
  constrain_similarities: true
  model_confidence: softmax
assistant_id: 20251117-165034-orange-muffin
